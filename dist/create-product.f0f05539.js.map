{"mappings":"AAAA,MAEaA,EAAW,CACtBC,SAAU,uDACVC,MAAO,oDACPC,MAAO,oDACPC,KAAM,oD,ICgBRC,EAAe,C,IAtBIC,MAAOC,GAAKC,QAAEA,EAAU,IAAO,MAChD,MAAMC,EAAiB,CACrBC,OAAQ,M,QACRF,GAEIG,QAAaC,MAAML,EAAKE,GAC9B,aAAaE,EAAKE,MAAM,E,KAGNP,MAAOC,GAAKO,KAAEA,EAAIN,QAAEA,EAAU,IAAO,MACvD,MAAMC,EAAiB,CACrBC,OAAQ,OACRF,QAAQ,CACN,eAAgB,sBACbA,GAELM,KAAMC,KAAKC,UAAUF,IAEjBH,QAAaC,MAAML,EAAKE,GAC9B,aAAaE,EAAKE,MAAM,GCfnB,MAAMI,EAAcX,OAAOK,KAAEA,GAAS,MAAOO,aAAMb,EAAMc,KAAK,GAAGnB,EAASC,WAAY,CAAEa,MCS5DM,EDTqFT,ECSxE,CAC9CU,KAAMD,EAAQC,KACdC,YAAaF,EAAQE,YACrBC,kBAAmBH,EAAQG,kBAC3BC,MAAOJ,EAAQI,MACfC,SAAUL,EAAQK,SAClBC,IAAKN,EAAQM,IACbC,MAAOC,OAAOR,EAAQO,WAPU,IAACP,CDT6F,EEJzH,MAAMS,EAAoBC,IAE/B,IADgBA,EAAYC,gBAG1B,MADAD,EAAYE,UAAUC,IAAI,iBACpB,IAAIC,MAAM,qBAGlB,OADAJ,EAAYE,UAAUG,OAAO,iBACtBC,OAAOC,YAAY,IAAIC,SAASR,GAAa,ECPhDS,EAAeC,SAASC,eAAe,qBACvCC,EAAgBF,SAASC,eAAe,sBAEjCE,EAAkBC,IAC7BL,EAAaP,UAAUC,IAAI,UAC3BS,EAAcV,UAAUG,OAAO,SAAS,EAE7BU,EAAaC,IACxBC,QAAQC,IAAIF,GACZP,EAAaP,UAAUG,OAAO,SAAS,EAE5Bc,EAAa,IAAMP,EAAcV,UAAUC,IAAI,UCRxCO,SAASC,eAAe,wBAqBhCS,iBAAiB,UAnBD5C,MAAO6C,IACjC,IACEA,EAAEC,iBAEFT,IAEA,MAAMhC,EAAOkB,EAAiBsB,EAAEE,cAETpC,EAAY,C,KAAEN,G,CAErC,MAAOmC,GACPC,QAAQC,IAAIF,GACZD,EAAUC,E,CACX,QAECG,G","sources":["src/JS/constants/endpoints.js","src/JS/utils/fetch.js","src/JS/services/products.js","src/JS/models/product.js","src/JS/handlers/handle-submit-form.js","src/JS/handlers/handle-notify-form.js","src/JS/pages/create-products.page.js"],"sourcesContent":["const BASE_URL = 'https://mockend.com/alaanescobedo/db-server'\r\n\r\nexport const ENDPOINT = {\r\n  PRODUCTS: `${BASE_URL}/products`,\r\n  USERS: `${BASE_URL}/users`,\r\n  EMAIL: `${BASE_URL}/email`,\r\n  AUTH: `${BASE_URL}/auth`,\r\n}","export const get = async (url, { headers = {} } = {}) => {\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers\r\n  }\r\n  const data = await fetch(url, requestOptions)\r\n  return await data.json()\r\n}\r\n\r\nexport const post = async (url, { body, headers = {} } = {}) => {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers:{\r\n      \"Content-Type\": \"application/json\",\r\n      ...headers\r\n    },\r\n    body: JSON.stringify(body)\r\n  }\r\n  const data = await fetch(url, requestOptions)\r\n  return await data.json()\r\n}\r\n\r\nexport default {\r\n  get,\r\n  post\r\n}","import { ENDPOINT } from '../constants/index.js'\r\nimport { createLocalProduct } from '../models/product.js';\r\nimport fetch from '../utils/fetch.js'\r\n\r\nexport const postProduct = async ({ data } = {}) => await fetch.post(`${ENDPOINT.PRODUCTS}`, { body: createLocalProduct(data) });\r\n\r\nexport const getAllProducts = async ({ limit } = { limit: 10 }) => await fetch.get(`${ENDPOINT.PRODUCTS}?limit=${limit}`)\r\nexport const getProductById = async (id) => await fetch.get(`${ENDPOINT.PRODUCTS}/${id}`)\r\n\r\nexport const getProductByCategory = async (category) => await fetch.get(`${ENDPOINT.PRODUCTS}/category/${category}`)\r\n\r\n\r\nexport default {\r\n  postOne: postProduct,\r\n  get: getAllProducts,\r\n  getById: getProductById,\r\n  getByCategory: getProductByCategory\r\n}","/**\r\n * \r\n * @param {{\r\n * name: string,\r\n * description: string,\r\n * description_short: string,\r\n * email: string,\r\n * price: string,\r\n * category: string,\r\n * image: string,\r\n * }} product \r\n * @returns \r\n */\r\nexport const createLocalProduct = (product) => ({\r\n  name: product.name,\r\n  description: product.description,\r\n  description_short: product.description_short,\r\n  price: product.price,\r\n  category: product.category,\r\n  img: product.img,\r\n  stock: Number(product.stock)\r\n})","export const handleSubmitForm = (currentForm) => {\r\n  const isValid = currentForm.checkValidity();\r\n  if (!isValid)  {\r\n    currentForm.classList.add('was-validated');\r\n    throw new Error('Form is not valid');\r\n  }\r\n  currentForm.classList.remove('was-validated');\r\n  return Object.fromEntries(new FormData(currentForm));\r\n}","const errorElement = document.getElementById(\"notify-form-error\");\r\nconst loaderElement = document.getElementById(\"notify-form-loader\");\r\n\r\nexport const initNotifyForm = (message) => {\r\n  errorElement.classList.add(\"d-none\");\r\n  loaderElement.classList.remove(\"d-none\");\r\n}\r\nexport const showError = (error) => {\r\n  console.log(error); // Para desarrollo\r\n  errorElement.classList.remove(\"d-none\");\r\n}\r\nexport const hideLoader = () => loaderElement.classList.add(\"d-none\");\r\n\r\nexport default {\r\n  init: initNotifyForm,\r\n  shoError: showError,\r\n  hideLoader: hideLoader\r\n}","import { postProduct } from \"../services/products.js\";\r\nimport { handleSubmitForm, showError, hideLoader, initNotifyForm } from \"../handlers/index.js\";\r\n\r\nconst formElement = document.getElementById(\"form-create-products\");\r\n\r\nconst submitCreateProduct = async (e) => {\r\n  try {\r\n    e.preventDefault();\r\n    // Ocultar Error y Mostrar Loader\r\n    initNotifyForm()\r\n    // Validar Formulario y Obtener Datos\r\n    const data = handleSubmitForm(e.target);\r\n    // Enviar Datos al Servidor\r\n    const response = await postProduct({ data });\r\n    // currentForm.reset();\r\n  } catch (error) {\r\n    console.log(error);\r\n    showError(error)\r\n  }\r\n  finally {\r\n    hideLoader()\r\n  }\r\n}\r\n\r\nformElement.addEventListener('submit', submitCreateProduct);"],"names":["$d9480a6a71d91a9a$export$1a23c4610ef05bed","PRODUCTS","USERS","EMAIL","AUTH","$46a2567f4e15aef8$export$2e2bcd8739ae039","async","url","headers","requestOptions","method","data","fetch","json","body","JSON","stringify","$a91f564f60b11f22$export$1a2be0249dbe2e61","await","post","product","name","description","description_short","price","category","img","stock","Number","$e8bc2628fce55b75$export$600e63a981acbb9","currentForm","checkValidity","classList","add","Error","remove","Object","fromEntries","FormData","$b1567d3d4dd812e5$var$errorElement","document","getElementById","$b1567d3d4dd812e5$var$loaderElement","$b1567d3d4dd812e5$export$81e8e5c3967a0617","message","$b1567d3d4dd812e5$export$3879b24e8245693d","error","console","log","$b1567d3d4dd812e5$export$5cee2c2772922923","addEventListener","e","preventDefault","target"],"version":3,"file":"create-product.f0f05539.js.map"}