const e={CART:"sh_cart",USER:"current_user"},t=(e,t)=>localStorage.setItem(e,JSON.stringify(t)),a=e=>JSON.parse(localStorage.getItem(e));const o=a=>{return t(e.USER,{id:(o=a).id,username:o.username,email:o.email});var o},s=()=>a(e.USER);const n={PRODUCTS:"https://mockend.com/alaanescobedo/db-server/products",USERS:"https://mockend.com/alaanescobedo/db-server/users",EMAIL:"https://mockend.com/alaanescobedo/db-server/email",AUTH:"https://mockend.com/alaanescobedo/db-server/auth"};var r={get:async(e,{headers:t={}}={})=>{const a={method:"GET",headers:t},o=await fetch(e,a);return await o.json()},post:async(e,{body:t,headers:a={}}={})=>{const o={method:"POST",headers:{"Content-Type":"application/json",...a},body:JSON.stringify(t)},s=await fetch(e,o);return await s.json()}};const d=({data:e})=>r.post(`${n.USERS}`,{body:e}).catch((e=>{throw e}));const c=e=>{if(!e.checkValidity())throw e.classList.add("was-validated"),new Error("Form is not valid");return e.classList.remove("was-validated"),Object.fromEntries(new FormData(e))},i=document.getElementById("notify-form-error"),l=document.getElementById("notify-form-loader"),m=e=>{i.classList.add("d-none"),l.classList.remove("d-none")},h=e=>{console.log(e),i.classList.remove("d-none")},y=()=>l.classList.add("d-none");const u=document.getElementById("login-form");s()&&(location.href="/index.html"),u.addEventListener("submit",(async e=>{try{e.preventDefault(),m();const t=c(e.target),a=await d({data:t});o(a),location.href="/index.html"}catch(e){h(e)}finally{y()}}));
//# sourceMappingURL=register.1dd2bdb2.js.map
