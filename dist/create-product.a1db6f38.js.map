{"mappings":"imBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,oKCAzD,MAEaC,EAAW,CACtBC,SAAU,uDACVC,MAAO,oDACPC,MAAO,oDACPC,KAAM,oD,MCNRC,EAAiB,IAAAC,IAAoBV,EAAA,SAAAW,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FC,EAAiB,IAAAN,IAAoBV,EAAA,SAAAW,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCwCpF,IAAAL,IAAAD,GAKA,IAAAC,IAAAM,G,ICvBRC,EAAe,C,IAtBIC,MAAOJ,GAAKK,QAAEA,EAAU,IAAO,MAChD,MAAMC,EAAiB,CACrBC,OAAQ,M,QACRF,GAEIG,QAAaC,MAAMT,EAAKM,GAC9B,aAAaE,EAAKE,MAAM,E,KAGNN,MAAOJ,GAAKW,KAAEA,EAAIN,QAAEA,EAAU,IAAO,MACvD,MAAMC,EAAiB,CACrBC,OAAQ,OACRF,QAAQ,CACN,eAAgB,sBACbA,GAELM,KAAMvB,KAAKwB,UAAUD,IAEjBH,QAAaC,MAAMT,EAAKM,GAC9B,aAAaE,EAAKE,MAAM,GCfnB,MAAMG,EAAcT,OAAOI,KAAEA,GAAS,MAAOM,aAAMX,EAAMY,KAAK,GAAGzB,EAASC,WAAY,CAAEoB,MCS5DK,EDTqFR,ECSxE,CAC9CS,KAAMD,EAAQC,KACdC,YAAaF,EAAQE,YACrBC,kBAAmBH,EAAQG,kBAC3BC,MAAOJ,EAAQI,MACfC,SAAUL,EAAQK,SAClBC,IAAKN,EAAQM,IACbC,MAAOC,OAAOR,EAAQO,WAPU,IAACP,CDT6F,EEJzH,MAAMS,EAAoBC,IAE/B,IADgBA,EAAYC,gBAG1B,MADAD,EAAYE,UAAUC,IAAI,iBACpB,IAAI5C,MAAM,qBAGlB,OADAyC,EAAYE,UAAUE,OAAO,iBACtBlD,OAAOmD,YAAY,IAAIC,SAASN,GAAa,ECPhDO,EAAeC,SAASC,eAAe,qBACvCC,EAAgBF,SAASC,eAAe,sBAEjCE,EAAkBC,IAC7BL,EAAaL,UAAUC,IAAI,UAC3BO,EAAcR,UAAUE,OAAO,SAAS,EAE7BS,EAAaC,IACxBC,QAAQC,IAAIF,GACZP,EAAaL,UAAUE,OAAO,SAAS,EAE5Ba,EAAa,IAAMP,EAAcR,UAAUC,IAAI,UCRxCK,SAASC,eAAe,wBAqBhCS,iBAAiB,UAnBDxC,MAAOyC,IACjC,IACEA,EAAEC,iBAEFT,IAEA,MAAM7B,EAAOiB,EAAiBoB,EAAEE,cAETlC,EAAY,C,KAAEL,G,CAErC,MAAOgC,GACPC,QAAQC,IAAIF,GACZD,EAAUC,E,CACX,QAECG,G","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-6f269d24437de8ac.js","src/JS/constants/endpoints.js","node_modules/@parcel/runtime-js/lib/runtime-f0eb044e510df69d.js","node_modules/@parcel/runtime-js/lib/runtime-a88f04c55418778f.js","src/JS/constants/navbar-data.js","src/JS/utils/fetch.js","src/JS/services/products.js","src/JS/models/product.js","src/JS/handlers/handle-submit-form.js","src/JS/handlers/handle-notify-form.js","src/JS/pages/create-products.page.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"iHZYp\\\":\\\"create-product.a1db6f38.js\\\",\\\"4GD23\\\":\\\"cart-fill.87e67c8f.svg\\\",\\\"cYON9\\\":\\\"person-circle.acf5b5fa.svg\\\"}\"));","const BASE_URL = 'https://mockend.com/alaanescobedo/db-server'\r\n\r\nexport const ENDPOINT = {\r\n  PRODUCTS: `${BASE_URL}/products`,\r\n  USERS: `${BASE_URL}/users`,\r\n  EMAIL: `${BASE_URL}/email`,\r\n  AUTH: `${BASE_URL}/auth`,\r\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4GD23\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cYON9\")).toString();","export const navLinks = [\r\n  {\r\n    href: '/',\r\n    label: 'Home',\r\n    style: 'home'\r\n  },\r\n  {\r\n    href: '/editor.html',\r\n    label: 'Personaliza',\r\n    style: 'editor'\r\n  },\r\n  {\r\n    href: '/productos.html',\r\n    label: 'Productos',\r\n    style: 'productos'\r\n  },\r\n  {\r\n    href: '/contactanos.html',\r\n    label: 'Contactanos',\r\n    style: 'contactanos'\r\n  },\r\n  {\r\n    href: '/about-us.html',\r\n    label: 'Nosotros',\r\n    style: 'about-us'\r\n  },\r\n  {\r\n    href: '/login.html',\r\n    label: 'Login',\r\n    style: 'login'\r\n  },\r\n  {\r\n    href: '/producto-info.html',\r\n    style: 'producto'\r\n  },\r\n]\r\nexport const excludeLinks = ['/login.html', '/register.html', '/index.html', '/producto-info.html', '/editor.html']\r\nexport const pathIcons = {\r\n  cart: {\r\n    label: 'Carrito',\r\n    path: new URL('/public/assets/icons/cart-fill.svg', import.meta.url),\r\n    url: '#'\r\n  },\r\n  profile: {\r\n    label: 'Usuario',\r\n    path: new URL('/public/assets/icons/person-circle.svg', import.meta.url),\r\n    list: {\r\n      offline: [\r\n        `<li><a class=\"dropdown-item\" href=\"/login.html\">Iniciar sesión</a></li>`,\r\n        `<li><a class=\"dropdown-item\" href=\"/register.html\">Registrate</a></li>`\r\n      ],\r\n      online: [\r\n        `<li><button class=\"btn dropdown-item\" id=\"btn-logout\">Cerrar sesión</button></li>`,\r\n      ]\r\n\r\n    }\r\n  },\r\n}\r\n","export const get = async (url, { headers = {} } = {}) => {\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers\r\n  }\r\n  const data = await fetch(url, requestOptions)\r\n  return await data.json()\r\n}\r\n\r\nexport const post = async (url, { body, headers = {} } = {}) => {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers:{\r\n      \"Content-Type\": \"application/json\",\r\n      ...headers\r\n    },\r\n    body: JSON.stringify(body)\r\n  }\r\n  const data = await fetch(url, requestOptions)\r\n  return await data.json()\r\n}\r\n\r\nexport default {\r\n  get,\r\n  post\r\n}","import { ENDPOINT } from '../constants/index.js'\r\nimport { createLocalProduct } from '../models/product.js';\r\nimport fetch from '../utils/fetch.js'\r\n\r\nexport const postProduct = async ({ data } = {}) => await fetch.post(`${ENDPOINT.PRODUCTS}`, { body: createLocalProduct(data) });\r\n\r\nexport const getAllProducts = async ({ limit } = { limit: 10 }) => await fetch.get(`${ENDPOINT.PRODUCTS}?limit=${limit}`)\r\nexport const getProductById = async (id) => await fetch.get(`${ENDPOINT.PRODUCTS}/${id}`)\r\n\r\nexport const getProductByCategory = async (category) => await fetch.get(`${ENDPOINT.PRODUCTS}/category/${category}`)\r\n\r\n\r\nexport default {\r\n  postOne: postProduct,\r\n  get: getAllProducts,\r\n  getById: getProductById,\r\n  getByCategory: getProductByCategory\r\n}","/**\r\n * \r\n * @param {{\r\n * name: string,\r\n * description: string,\r\n * description_short: string,\r\n * email: string,\r\n * price: string,\r\n * category: string,\r\n * image: string,\r\n * }} product \r\n * @returns \r\n */\r\nexport const createLocalProduct = (product) => ({\r\n  name: product.name,\r\n  description: product.description,\r\n  description_short: product.description_short,\r\n  price: product.price,\r\n  category: product.category,\r\n  img: product.img,\r\n  stock: Number(product.stock)\r\n})","export const handleSubmitForm = (currentForm) => {\r\n  const isValid = currentForm.checkValidity();\r\n  if (!isValid)  {\r\n    currentForm.classList.add('was-validated');\r\n    throw new Error('Form is not valid');\r\n  }\r\n  currentForm.classList.remove('was-validated');\r\n  return Object.fromEntries(new FormData(currentForm));\r\n}","const errorElement = document.getElementById(\"notify-form-error\");\r\nconst loaderElement = document.getElementById(\"notify-form-loader\");\r\n\r\nexport const initNotifyForm = (message) => {\r\n  errorElement.classList.add(\"d-none\");\r\n  loaderElement.classList.remove(\"d-none\");\r\n}\r\nexport const showError = (error) => {\r\n  console.log(error); // Para desarrollo\r\n  errorElement.classList.remove(\"d-none\");\r\n}\r\nexport const hideLoader = () => loaderElement.classList.add(\"d-none\");\r\n\r\nexport default {\r\n  init: initNotifyForm,\r\n  shoError: showError,\r\n  hideLoader: hideLoader\r\n}","import { postProduct } from \"../services/products.js\";\r\nimport { handleSubmitForm, showError, hideLoader, initNotifyForm } from \"../handlers/index.js\";\r\n\r\nconst formElement = document.getElementById(\"form-create-products\");\r\n\r\nconst submitCreateProduct = async (e) => {\r\n  try {\r\n    e.preventDefault();\r\n    // Ocultar Error y Mostrar Loader\r\n    initNotifyForm()\r\n    // Validar Formulario y Obtener Datos\r\n    const data = handleSubmitForm(e.target);\r\n    // Enviar Datos al Servidor\r\n    const response = await postProduct({ data });\r\n    // currentForm.reset();\r\n  } catch (error) {\r\n    console.log(error);\r\n    showError(error)\r\n  }\r\n  finally {\r\n    hideLoader()\r\n  }\r\n}\r\n\r\nformElement.addEventListener('submit', submitCreateProduct);"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$d9480a6a71d91a9a$export$1a23c4610ef05bed","PRODUCTS","USERS","EMAIL","AUTH","$16c0cf935aa46f89$exports","URL","resolve","import","meta","url","toString","$80ff6fce92cfb215$exports","$46a2567f4e15aef8$export$2e2bcd8739ae039","async","headers","requestOptions","method","data","fetch","json","body","stringify","$a91f564f60b11f22$export$1a2be0249dbe2e61","await","post","product","name","description","description_short","price","category","img","stock","Number","$e8bc2628fce55b75$export$600e63a981acbb9","currentForm","checkValidity","classList","add","remove","fromEntries","FormData","$b1567d3d4dd812e5$var$errorElement","document","getElementById","$b1567d3d4dd812e5$var$loaderElement","$b1567d3d4dd812e5$export$81e8e5c3967a0617","message","$b1567d3d4dd812e5$export$3879b24e8245693d","error","console","log","$b1567d3d4dd812e5$export$5cee2c2772922923","addEventListener","e","preventDefault","target"],"version":3,"file":"create-product.a1db6f38.js.map"}